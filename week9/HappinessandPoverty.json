{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    
    "title": {
      "text": "Happiness vs Poverty Rating",
      "subtitle":"Sources: The World Happiness Report, The World Bank",
      "subtitleFontStyle":"italic",
      "subtitleFontSize":10,
      "anchor": "start",
      "color": "black"
    },
    
      "data": {
      "url": "https://raw.githubusercontent.com/tobywinn/tobywinn.github.io/main/week9/PovertyandHappiness.csv",
      "format": {"type": "csv"}
    },
    
    "height": 280,
    "width": 300,
    
    "encoding": {
  
      "x": {
        "field": "Happiness Score",
        "type": "quantitative",
        "axis": {"grid": false},
        "scale": {"domain": [3,8]}
      },
  
      "y": {
        "field": "Poverty Rating",
        "type": "quantitative",
        "axis": {"grid": false},
        "scale": {"domain": [0,60]}
      },
  
      "tooltip": [
        {
          "field": "Country Name", 
          "type": "nominal", 
          "title": "Country"
          },
        {
          "field": "Happiness Score",
          "type": "quantitative",
          "title": "Happiness Score"
          },
        {
          "field": "Poverty Rating",
          "type": "quantitative",
          "title": "Poverty Rating"
          }
      ]
    },
  
    "layer": [
        
      {
        "data": {
          "values": [
            {"Happiness Score": 3, "Poverty Rating": 20.849999999999998},
            {"Happiness Score": 8, "Poverty Rating": -8.050000000000004}
          ]
        }, 
        "mark": {"type":"line", "color":"red", "clip": true},
        "encoding": {
          "tooltip": null
        }
      },
  
      {"data": {"url": "https://raw.githubusercontent.com/tobywinn/tobywinn.github.io/main/week9/PovertyandHappiness.csv"}, 
      "mark": {"type": "point"}
      },
  
      {
        "data": {
          "values": [
            {"Happiness Score": 7, "Poverty Rating": 45, "text": "RÂ² = 0.250"}
          ]
        }, 
        "mark": {"type":"text", "color":"red", "fontWeight": "bold"},
        "encoding": {
          "tooltip": null,
          "text": {"field": "text", "type": "nominal"}
        }
      }
  
    ]
  
  }