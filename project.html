<!-- Richard Davies, Data Science 2021 -->


<!-- ///////////////////  HEAD //////////////////////////////////// -->

<head>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8">
    
    <!--The next three lines allow the Vega embed-->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">

    <!-- Tab name -->
    <title>Toby Winn</title>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="facicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;500&display=swap" rel="stylesheet">
        
    <script src="nav.js" defer></script>

</head>
  
<!-- ///////////////////  HEAD //////////////////////////////////// -->



<!-- ///////////////////  START BODY //////////////////////////////////// -->
<body>

    <header class="primary-header flex">
        
        <header class="heading"><span class="orange">Data</span><span class="turquoise">Science</span></header>
        
        <button class="mobile-nav-toggle" data-visible="false">
        </button>

        <nav>
        <ul id="primary-navigation" data-visible="false" class="primary-navigation flex">
            <li class="active">
            <a class="a-nav" href="https://tobywinn.github.io">Home</a>
            </li>
            <li>
            <a class="a-nav" href="https://tobywinn.github.io/project.html">Project</a>
            </li>
            <li>
            <a class="a-nav" href="https://github.com/tobywinn/tobywinn.github.io">Github</a>
            </li>
            <li>
            <a class="a-nav" href="https://rapidcharts.io/datascience">Course site</a>
            </li>
        </ul>
        </nav>
    </header>

    <p class=title1>Investigating the relationship between life satisfaction and income?</p>

    <p><span class="bold">Aims: </span>After I graduate I am set to enter the world of investment banking, an industry known for paying well but at significant personal cost. This led me to question the extent to which accumulating wealth is correlated with happiness.</p>

    <p>I plotted happiness score against log GDP per capita on a choropleth map using data from the <a href="https://worldhappiness.report/">World Happiness Report</a>. I used a bivariate scale to capture both GDP and happiness simultaneously, using a visually interpretable colour palate informed by <a href="https://www.joshuastevens.net/cartography/make-a-bivariate-choropleth-map/">Joshua Stevens'</a> guide. I found terciles for both variables and the created 9 classifications for each possible combination of terciles, the interpretation of which can be seen by clicking on the scale. In converting the TopoJSON file to GeoJSON, an error caused countries spanning over both 180 degrees east and 180 degrees west of prime meridian (e.g. Russia, Antartica) to display inaccurately on Kepler as shown <a href="https://kepler.gl/demo/map?mapUrl=https://dl.dropboxusercontent.com/s/a8mjf2n9edsy201/keplergl_oqzs02s.json">here</a>. I looped through the GeoJSON output and changed the longitude of any coordinates beyond 180 degrees west to the eastern side of the map in code that can be found <a href="https://colab.research.google.com/drive/1uOGME7xck5ckJLfgvpJdXXVACHrBRmtt">here</a>. Finally, I looped through the list of countries in the happiness dataset and GeoJSON file checking for mismatches and changed the names for any mismatches.</p>

    <div class="container">   
        <div id="chart24">
            <script>
                var myChart24 = "project/bivariatescale.json";
                vegaEmbed('#chart24', myChart24);
            </script>
        </div>
        <iframe src="https://kepler.gl/demo/map?mapUrl=https://dl.dropboxusercontent.com/s/lz33wm1lbpxampd/keplergl_vmm8sfa.json"></iframe>
        <div id="chart17">
            <script>
                var myChart17 = "project/bivariatescale.json";
                vegaEmbed('#chart17', myChart17);
            </script>
        </div>
    </div> 

    <div class="container">

        <!-- Continental happiness -->
        <div class="chart" id="chart18">
            <script>
            var myChart18 = "project/HappinessbyContinent.json";
            vegaEmbed('#chart18', myChart18);
            </script>
        </div>

         <!-- Continental unhappiness -->
         <div class="chart" id="chart19">
            <script>
            var myChart19 = "project/UnhappinessbyContinent.json";
            vegaEmbed('#chart19', myChart19);
            </script>
        </div>

    </div>

    <p class=title1>Salary data and satisfaction ratings</p>

    <div class="container">

        <!-- Salary and job ratings -->
        <div class="chart" id="chart20">
            <script>
            var myChart20 = "project/SalaryandRatings.json";
            vegaEmbed('#chart20', myChart20);
            </script>
        </div>

    </div>

    <p class=title1>Happiness and Unhappiness by GDP</p>

    <div class="container">

        <!-- Happiness and GDP -->
        <div class="chart" id="chart21">
            <script>
            var myChart21 = "project/HappinessvsGDP.json";
            vegaEmbed('#chart21', myChart21);
            </script>
        </div>

    </div>

    <div class="container">

        <!-- Happiness vs GDP per capita regression-->
        <div class="pngchart" id="chart6">
            <img src = "project/HappinessRegression.png" />
        </div>
        
    </div>


    <p>Having investigated the relationship between income and happiness globally, I then moved to an investigation of the the relationship between job satisfaction and pay in FTSE 500. I created a scraper which </p>
    

    <div class="container">

         <!-- Happiness and GDP -->
        <div class="chart" id="chart23">
            <script>
            var myChart23 = "project/FTSE100SalaryRating.json";
            vegaEmbed('#chart23', myChart23);
            </script>
        </div>

    </div>

    <footer></footer>

</body>